# shadcn/ui Fast-Track Adoption Playbook

**Trigger Condition**: When we need our 3rd complex component (modals, combo-boxes, command palettes, or advanced form patterns).

## ðŸš€ Quick Adoption Checklist

### Phase 1: Foundation Setup (5 minutes)
```bash
# Add class-variance-authority for type-safe variants
npm install class-variance-authority

# Initialize shadcn/ui (creates components/ directory + utils)
npx shadcn-ui@latest init
```

**Configuration choices:**
- âœ… Use TypeScript
- âœ… Style: Tailwind CSS  
- âœ… Components location: `src/components/ui`
- âœ… Utils location: `src/lib/utils`
- âœ… Tailwind config: `tailwind.config.js`
- âœ… CSS file: `src/index.css`

### Phase 2: SparkTasks Brand Integration (10 minutes)

**Update `tailwind.config.js` to merge shadcn + SparkTasks tokens:**
```js
// Keep existing SparkTasks colors, add shadcn's CSS variables
extend: {
  colors: {
    // SparkTasks brand (keep existing)
    primary: { /* existing values */ },
    secondary: { /* existing values */ },
    
    // shadcn CSS variables (for component compatibility)
    border: "hsl(var(--border))",
    input: "hsl(var(--input))",
    ring: "hsl(var(--ring))",
    background: "hsl(var(--background))",
    foreground: "hsl(var(--foreground))",
    // ... other shadcn vars
  }
}
```

**Patch `src/index.css` with SparkTasks-themed CSS variables:**
```css
@layer base {
  :root {
    /* Map SparkTasks colors to shadcn variables */
    --primary: 59 130 246; /* primary-500 */
    --primary-foreground: 255 255 255;
    --secondary: 100 116 139; /* secondary-500 */
    /* ... other mappings */
  }
}
```

### Phase 3: Selective Component Adoption (2 minutes per component)

**High-value components for SparkTasks:**
```bash
# Task creation modal
npx shadcn-ui@latest add dialog

# Tag/status selection  
npx shadcn-ui@latest add select

# Form validation
npx shadcn-ui@latest add form

# Success/error notifications
npx shadcn-ui@latest add toast

# Quick-add command interface
npx shadcn-ui@latest add command
```

### Phase 4: Component Customization Template

**Example: Customizing Button for SparkTasks**
```tsx
// src/components/ui/button.tsx (generated by shadcn)
const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors",
  {
    variants: {
      variant: {
        default: "bg-primary-600 text-white hover:bg-primary-700", // SparkTasks primary
        secondary: "bg-secondary-100 text-secondary-700 hover:bg-secondary-200",
        ghost: "hover:bg-gray-100 text-gray-700",
        // Keep shadcn's destructive, outline variants
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-lg px-8",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)
```

### Phase 5: Verification Checklist (5 minutes)

**Before merging any shadcn component:**
- [ ] SparkTasks brand colors applied correctly
- [ ] Component works with existing `.btn-primary`/`.btn-secondary` patterns  
- [ ] Keyboard navigation functions (Tab, Enter, Escape)
- [ ] Screen reader announces component state changes
- [ ] Mobile touch targets â‰¥44px (iOS/Android guidelines)
- [ ] Component integrates with Zustand store patterns
- [ ] TypeScript types export correctly

## ðŸŽ¯ Component Priority Matrix

**Immediate value (adopt first):**
1. **Dialog** - Task creation, settings modals
2. **Form** - Task input with Zod validation integration
3. **Select** - Status changes, tag selection

**Medium priority:**
4. **Toast** - Success/error notifications  
5. **Command** - Quick-add grammar interface

**Low priority:**
6. **Table** - Task lists (if we outgrow simple cards)
7. **Calendar** - Date picker for snooze functionality

## ðŸ”„ Rollback Strategy

If shadcn/ui adds unwanted complexity:
1. Remove generated components from `src/components/ui/`
2. Uninstall `class-variance-authority`
3. Revert to existing Tailwind utility patterns
4. Keep Radix primitives (no change needed)

**Time cost**: ~10 minutes to rollback completely

## ðŸ“Š Success Metrics

**Adopt shadcn/ui if it provides:**
- >50% faster component development
- Consistent accessibility patterns
- Cleaner component APIs (`variant`, `size` props)

**Stick with custom if:**
- Customization overhead >30 minutes per component
- Bundle size increases >50KB
- Team prefers full control over external patterns

---

**Ready to execute**: This playbook turns a potential 2-hour research + implementation cycle into a 25-minute tactical deployment when the complexity trigger hits.
