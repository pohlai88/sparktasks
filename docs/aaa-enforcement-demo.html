<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MAPS v2.2 — AAA Enforcement Philosophy Demo</title>
    <style>
      :root {
        --font:
          'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto,
          'Helvetica Neue', Arial, sans-serif;
        color-scheme: light dark;
      }

      .dark {
        /* Ethereal Dark-First Design System */
        --background: 10 15 22; /* #0a0f16 - Deep space canvas */
        --background-elevated: 23 22 42; /* #17162a - Perfect depth step */
        --background-panel: 36 28 65; /* #241c41 - Ideal panel step */
        --foreground: 232 236 241; /* #e8ecf1 - Calm off-white */
        --foreground-muted: 200 206 214; /* #c8ced6 - AA+ secondary */
        --foreground-subtle: 156 163 175; /* #9ca3af - Tertiary text */
        --foreground-disabled: 120 128 140; /* #78808c - Disabled state */
        --border: 111 127 146; /* #6f7f92 - Visible on all surfaces */
        --border-strong: 128 148 166; /* #8094a6 - Strong interactive */
        --border-subtle: 91 103 118; /* #5b6776 - Hairline dividers */

        /* Ethereal Accent System */
        --accent: 124 196 255; /* #7cc4ff - Ethereal sophistication */
        --accent-hover: 134 206 255; /* #86ceff - Gentle lift */
        --accent-pressed: 114 186 245; /* #72baf5 - Confident press */
        --accent-secondary: 120 255 214; /* #78ffd6 - Complementary elegance */
        --accent-foreground: 255 255 255; /* #ffffff - Pure white */

        /* Human-Centered Semantic Colors */
        --success: 64 214 163; /* #40d6a3 - Confident, not loud */
        --warning: 255 209 102; /* #ffd166 - Warm warning */
        --error: 255 107 107; /* #ff6b6b - Human concern */

        /* AAA-Only Solid Fills */
        --accent-solid-aaa: 30 81 192; /* #1e51c0 - White ≥7:1 */
        --success-solid-aaa: 14 103 47; /* #0e672f - White ≥7:1 */
        --error-solid-aaa: 173 30 30; /* #ad1e1e - White ≥7:1 */
      }

      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        font-family: var(--font);
        margin: 0;
        background: rgb(var(--background));
        color: rgb(var(--foreground));
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 24px;
      }

      .hero {
        text-align: center;
        padding: 60px 0;
        background: linear-gradient(
          135deg,
          rgba(124, 196, 255, 0.1),
          rgba(120, 255, 214, 0.05)
        );
        border-radius: 24px;
        margin-bottom: 40px;
        border: 1px solid rgba(124, 196, 255, 0.2);
      }

      .hero h1 {
        font-size: 48px;
        margin: 0 0 16px;
        background: linear-gradient(
          135deg,
          rgb(var(--accent)),
          rgb(var(--accent-secondary))
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: 700;
      }

      .philosophy {
        font-size: 18px;
        color: rgb(var(--foreground-muted));
        font-style: italic;
        margin-bottom: 32px;
      }

      .enforcement-modes {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 24px;
        margin: 40px 0;
      }

      .mode-card {
        background: rgb(var(--background-elevated));
        border: 1px solid rgb(var(--border));
        border-radius: 16px;
        padding: 24px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .mode-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
      }

      .mode-card.harmony::before {
        background: rgb(var(--accent));
      }
      .mode-card.optional::before {
        background: rgb(var(--warning));
      }
      .mode-card.enforced::before {
        background: rgb(var(--error));
      }

      .mode-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.3);
      }

      .mode-title {
        font-size: 20px;
        font-weight: 600;
        margin: 0 0 12px;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .mode-badge {
        padding: 4px 12px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 500;
      }

      .harmony .mode-badge {
        background: rgba(124, 196, 255, 0.2);
        color: rgb(var(--accent));
      }
      .optional .mode-badge {
        background: rgba(255, 209, 102, 0.2);
        color: rgb(var(--warning));
      }
      .enforced .mode-badge {
        background: rgba(255, 107, 107, 0.2);
        color: rgb(var(--error));
      }

      .mode-desc {
        color: rgb(var(--foreground-muted));
        margin-bottom: 20px;
      }

      .mode-metrics {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-top: 20px;
      }

      .metric {
        text-align: center;
        padding: 12px;
        background: rgb(var(--background-panel));
        border-radius: 8px;
      }

      .metric-value {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 4px;
      }

      .metric-label {
        font-size: 12px;
        color: rgb(var(--foreground-muted));
      }

      .enforcement-demo {
        background: rgb(var(--background-elevated));
        border: 1px solid rgb(var(--border));
        border-radius: 16px;
        padding: 32px;
        margin: 40px 0;
      }

      .demo-controls {
        display: flex;
        gap: 16px;
        margin-bottom: 32px;
        justify-content: center;
      }

      .control-btn {
        padding: 12px 24px;
        border-radius: 12px;
        border: 1px solid rgb(var(--border));
        background: rgb(var(--background-panel));
        color: rgb(var(--foreground));
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 500;
      }

      .control-btn:hover {
        background: rgb(var(--accent));
        color: rgb(var(--accent-foreground));
        border-color: rgb(var(--accent));
      }

      .control-btn.active {
        background: rgb(var(--accent));
        color: rgb(var(--accent-foreground));
        border-color: rgb(var(--accent));
      }

      .demo-preview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .preview-card {
        background: rgb(var(--background-panel));
        border-radius: 12px;
        padding: 20px;
        border: 1px solid rgb(var(--border));
      }

      .compliance-status {
        margin-top: 32px;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        font-weight: 600;
      }

      .status-pass {
        background: rgba(64, 214, 163, 0.1);
        color: rgb(var(--success));
        border: 1px solid rgba(64, 214, 163, 0.3);
      }

      .status-warn {
        background: rgba(255, 209, 102, 0.1);
        color: rgb(var(--warning));
        border: 1px solid rgba(255, 209, 102, 0.3);
      }

      .status-fail {
        background: rgba(255, 107, 107, 0.1);
        color: rgb(var(--error));
        border: 1px solid rgba(255, 107, 107, 0.3);
      }

      .future-vision {
        background: linear-gradient(
          135deg,
          rgba(124, 196, 255, 0.05),
          rgba(120, 255, 214, 0.05)
        );
        border: 1px solid rgba(124, 196, 255, 0.2);
        border-radius: 20px;
        padding: 40px;
        margin: 60px 0;
        text-align: center;
      }

      .vision-title {
        font-size: 32px;
        margin-bottom: 20px;
        color: rgb(var(--accent));
      }

      .vision-text {
        font-size: 18px;
        color: rgb(var(--foreground-muted));
        max-width: 600px;
        margin: 0 auto;
      }

      .lock-icon {
        display: inline-block;
        width: 20px;
        height: 20px;
        background: rgb(var(--error));
        border-radius: 4px;
        position: relative;
      }

      .lock-icon::before {
        content: '🔒';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="hero">
        <h1>AAA Enforcement Philosophy</h1>
        <p class="philosophy">
          "Craft with heart for those who need, not those who want"
        </p>
      </div>

      <div class="enforcement-modes">
        <div class="mode-card harmony">
          <h3 class="mode-title">
            Apple HIG Harmony
            <span class="mode-badge">DEFAULT</span>
          </h3>
          <p class="mode-desc">
            Elegant by default, accessible by design. Perfect balance of
            Apple-calm aesthetics with strong accessibility foundations.
          </p>
          <div class="mode-metrics">
            <div class="metric">
              <div class="metric-value" style="color: rgb(var(--accent))">
                3:1
              </div>
              <div class="metric-label">Non-text Contrast</div>
            </div>
            <div class="metric">
              <div class="metric-value" style="color: rgb(var(--accent))">
                7:1
              </div>
              <div class="metric-label">Text Contrast</div>
            </div>
          </div>
        </div>

        <div class="mode-card optional">
          <h3 class="mode-title">
            AAA Optional
            <span class="mode-badge">ENHANCED</span>
          </h3>
          <p class="mode-desc">
            Stronger compliance while maintaining ethereal elegance. User-choice
            driven enhancement for power users and enterprise contexts.
          </p>
          <div class="mode-metrics">
            <div class="metric">
              <div class="metric-value" style="color: rgb(var(--warning))">
                4.5:1
              </div>
              <div class="metric-label">Non-text Contrast</div>
            </div>
            <div class="metric">
              <div class="metric-value" style="color: rgb(var(--warning))">
                7:1
              </div>
              <div class="metric-label">Text Contrast</div>
            </div>
          </div>
        </div>

        <div class="mode-card enforced">
          <h3 class="mode-title">
            AAA Enforced
            <span class="mode-badge"
              >LOCKED
              <div class="lock-icon"></div
            ></span>
          </h3>
          <p class="mode-desc">
            Compliance first, craft second. Uncompromisable AAA standards for
            enterprise customers who mandate maximum accessibility.
          </p>
          <div class="mode-metrics">
            <div class="metric">
              <div class="metric-value" style="color: rgb(var(--error))">
                4.5:1
              </div>
              <div class="metric-label">Non-text Contrast</div>
            </div>
            <div class="metric">
              <div class="metric-value" style="color: rgb(var(--error))">
                7:1
              </div>
              <div class="metric-label">Text Contrast</div>
            </div>
          </div>
        </div>
      </div>

      <div class="enforcement-demo">
        <h2 style="text-align: center; margin-bottom: 32px">
          Live Enforcement Demo
        </h2>

        <div class="demo-controls">
          <button class="control-btn active" data-mode="harmony">
            Harmony Mode
          </button>
          <button class="control-btn" data-mode="optional">AAA Optional</button>
          <button class="control-btn" data-mode="enforced">AAA Enforced</button>
        </div>

        <div class="demo-preview">
          <div class="preview-card">
            <h4>Primary Button</h4>
            <button
              id="demo-btn"
              style="
                padding: 12px 24px;
                border-radius: 8px;
                border: none;
                background: rgb(var(--accent));
                color: rgb(var(--accent-foreground));
                font-weight: 500;
                cursor: pointer;
              "
            >
              Click Me
            </button>
            <p
              style="
                font-size: 12px;
                margin-top: 8px;
                color: rgb(var(--foreground-muted));
              "
              id="btn-contrast"
            >
              Contrast: Calculating...
            </p>
          </div>

          <div class="preview-card">
            <h4>Success Alert</h4>
            <div
              id="demo-success"
              style="
                padding: 12px 16px;
                border-radius: 8px;
                background: rgb(var(--success));
                color: white;
                font-weight: 500;
              "
            >
              Operation completed successfully
            </div>
            <p
              style="
                font-size: 12px;
                margin-top: 8px;
                color: rgb(var(--foreground-muted));
              "
              id="success-contrast"
            >
              Contrast: Calculating...
            </p>
          </div>

          <div class="preview-card">
            <h4>Error Message</h4>
            <div
              id="demo-error"
              style="
                padding: 12px 16px;
                border-radius: 8px;
                background: rgb(var(--error));
                color: white;
                font-weight: 500;
              "
            >
              Please correct the errors below
            </div>
            <p
              style="
                font-size: 12px;
                margin-top: 8px;
                color: rgb(var(--foreground-muted));
              "
              id="error-contrast"
            >
              Contrast: Calculating...
            </p>
          </div>
        </div>

        <div class="compliance-status status-pass" id="compliance-status">
          ✅ All components meet Apple HIG Harmony standards
        </div>
      </div>

      <div class="future-vision">
        <h2 class="vision-title">🚀 Future Vision</h2>
        <p class="vision-text">
          Imagine a SaaS ecosystem where accessibility isn't an
          afterthought—it's the foundation. Where every interaction whispers
          sophistication while shouting inclusion. Where "enforced AAA" becomes
          the gold standard that competitors aspire to match.
        </p>
      </div>
    </div>

    <script>
      // Contrast calculation utilities
      const relLum = ([r, g, b]) => {
        const srgb = [r, g, b]
          .map(v => v / 255)
          .map(v =>
            v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4)
          );
        return 0.2126 * srgb[0] + 0.7152 * srgb[1] + 0.0722 * srgb[2];
      };

      const ratio = (fg, bg) => {
        const L1 = relLum(fg),
          L2 = relLum(bg);
        const [a, b] = L1 > L2 ? [L1, L2] : [L2, L1];
        return (a + 0.05) / (b + 0.05);
      };

      const cssRGB = name => {
        const value = getComputedStyle(document.documentElement)
          .getPropertyValue('--' + name)
          .trim();
        return value.split(' ').map(Number);
      };

      // Enforcement modes
      const MODES = {
        harmony: {
          name: 'Apple HIG Harmony',
          accent: [124, 196, 255],
          success: [64, 214, 163],
          error: [255, 107, 107],
          thresholds: { nonText: 3.0, text: 7.0 },
        },
        optional: {
          name: 'AAA Optional',
          accent: [30, 81, 192],
          success: [14, 103, 47],
          error: [173, 30, 30],
          thresholds: { nonText: 4.5, text: 7.0 },
        },
        enforced: {
          name: 'AAA Enforced',
          accent: [30, 81, 192],
          success: [14, 103, 47],
          error: [173, 30, 30],
          thresholds: { nonText: 4.5, text: 7.0 },
          locked: true,
        },
      };

      let currentMode = 'harmony';

      function updateMode(mode) {
        if (MODES[currentMode]?.locked && mode !== currentMode) {
          alert(
            '🔒 AAA Enforced mode is locked and cannot be changed. This ensures compliance in enterprise environments.'
          );
          return;
        }

        currentMode = mode;
        const modeConfig = MODES[mode];

        // Update button states
        document.querySelectorAll('.control-btn').forEach(btn => {
          btn.classList.toggle('active', btn.dataset.mode === mode);
        });

        // Update colors
        const demoBtn = document.getElementById('demo-btn');
        const demoSuccess = document.getElementById('demo-success');
        const demoError = document.getElementById('demo-error');

        demoBtn.style.background = `rgb(${modeConfig.accent.join(' ')})`;
        demoSuccess.style.background = `rgb(${modeConfig.success.join(' ')})`;
        demoError.style.background = `rgb(${modeConfig.error.join(' ')})`;

        // Calculate and display contrasts
        const white = [255, 255, 255];
        const btnRatio = ratio(white, modeConfig.accent);
        const successRatio = ratio(white, modeConfig.success);
        const errorRatio = ratio(white, modeConfig.error);

        document.getElementById('btn-contrast').textContent =
          `Contrast: ${btnRatio.toFixed(2)}:1`;
        document.getElementById('success-contrast').textContent =
          `Contrast: ${successRatio.toFixed(2)}:1`;
        document.getElementById('error-contrast').textContent =
          `Contrast: ${errorRatio.toFixed(2)}:1`;

        // Update compliance status
        const status = document.getElementById('compliance-status');
        const minRatio = Math.min(btnRatio, successRatio, errorRatio);
        const threshold = modeConfig.thresholds.text;

        if (minRatio >= threshold) {
          status.className = 'compliance-status status-pass';
          status.innerHTML = `✅ All components meet ${modeConfig.name} standards (${threshold}:1+)`;
        } else {
          status.className = 'compliance-status status-fail';
          status.innerHTML = `❌ Some components fail ${modeConfig.name} standards (${minRatio.toFixed(2)}:1 < ${threshold}:1)`;
        }
      }

      // Event listeners
      document.querySelectorAll('.control-btn').forEach(btn => {
        btn.addEventListener('click', () => updateMode(btn.dataset.mode));
      });

      // Initialize
      updateMode('harmony');

      // Demo enforced mode lock after 10 seconds
      setTimeout(() => {
        if (
          confirm(
            '🔒 Would you like to see AAA Enforced mode in action? (This will lock the interface)'
          )
        ) {
          updateMode('enforced');
        }
      }, 10000);
    </script>
  </body>
</html>
