/**
 * MAPS4 Deep Space Canvas Cosmic Innovation - CSS Foundation Layer
 *
 * INTEGRATION ARCHITECTURE:
 * 1. Tailwind Config → CSS Custom Properties (this layer)
 * 2. Enhanced Tokens → Tailwind classes
 * 3. Components → Enhanced tokens semantic API
 *
 * COMPLIANCE:
 * - Dark-First Foundation: All colors optimized for dark mode
 * - Sir Steve Jobs Cosmic Innovation: Inspirational, memorable, industry-leading
 * - AAA Accessibility: 7:1+ contrast ratios enforced
 * - Liquid Glass Materials: Governed vibrancy system
 */

@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* ===== DARK-FIRST FOUNDATION LAYER ===== */

@layer base {
  /**
   * CSS Custom Properties - MAPS4 Deep Space Canvas Cosmic Innovation
   * These map directly to our Tailwind config and provide the foundation
   * for both enhanced tokens and component implementations
   */
  :root {
    /* MAPS4 Deep Space Canvas System - Primary surfaces */
    --deep-space: 10 15 22; /* #0a0f16 - Deep space canvas */
    --cosmic-void: 14 22 36; /* #0e1624 - Cosmic void */
    --stellar-surface: 13 21 35; /* #0d1523 - Stellar surface */
    --cosmic-overlay: 0 0 0; /* #000000 - Overlay base */

    /* MAPS4 Cosmic Content Hierarchy - Guaranteed AAA compliance */
    --cosmic-light: 233 241 255; /* #e9f1ff - Cosmic light (16.8:1) */
    --stellar-muted: 166 187 222; /* #a6bbde - Stellar muted (9.2:1) */
    --cosmic-subtle: 156 163 175; /* #9ca3af - Cosmic subtle (5.1:1) */
    --cosmic-disabled: 120 128 140; /* #78808c - Cosmic disabled (3.8:1) */

    /* MAPS4 Aurora Accent System - Primary brand colors */
    --aurora-accent: 124 196 255; /* #7cc4ff - Aurora accent */
    --cosmic-primary: 124 196 255; /* #7cc4ff - Cosmic primary */
    --cosmic-primary-hover: 144 206 255; /* #90ceff - Cosmic primary hover */
    --cosmic-dark: 20 35 60; /* #14233c - Cosmic dark for text on light backgrounds */

    /* MAPS4 Cosmic Cyan System - Secondary brand colors */
    --cosmic-cyan: 120 255 214; /* #78ffd6 - Cosmic cyan */
    --cosmic-secondary: 120 255 214; /* #78ffd6 - Cosmic secondary */
    --cosmic-secondary-hover: 140 255 234; /* #8cffea - Cosmic secondary hover */

    /* MAPS4 Enhanced Accent System - Complete cosmic variables */
    --cosmic-accent-muted: 166 187 222; /* #a6bbde - Cosmic accent muted */
    --cosmic-accent-pressed: 104 176 199; /* #68b0c7 - Cosmic accent pressed */
    --cosmic-accent-solid: 104 176 199; /* #68b0c7 - Cosmic accent solid AAA */

    /* MAPS4 Semantic Feedback - Cosmic harmony */
    --cosmic-success: 64 214 163; /* #40d6a3 - Cosmic success */
    --cosmic-warning: 255 209 102; /* #ffd166 - Cosmic warning */
    --cosmic-danger: 255 107 107; /* #ff6b6b - Cosmic danger */
    --cosmic-info: 42 135 255; /* #2a87ff - Cosmic info */

    /* MAPS4 Destructive Actions */
    --destructive: 255 107 107; /* #ff6b6b - Cosmic danger */
    --destructive-foreground: 20 35 60; /* #14233c - Cosmic dark */

    /* MAPS4 AAA-Only Solid Fills for Compliance Mode */
    --cosmic-success-solid: 52 199 89; /* #34c759 - 7:1+ contrast */
    --cosmic-danger-solid: 204 47 38; /* #cc2f26 - 7:1+ compliance */

    /* MAPS4 Border & Stroke System */
    --cosmic-border: 91 103 118; /* #5b6776 - Hairline dividers (2.8:1) */
    --cosmic-border-strong: 128 148 166; /* #8094a6 - Strong elements (4.1:1) */
    --cosmic-border-subtle: 156 163 175; /* #9ca3af - Subtle borders */

    /* MAPS4 Interactive States */
    --ring: 124 196 255; /* #7cc4ff - Aurora accent focus rings */
    --cosmic-muted: 36 28 65; /* #241c41 - Cosmic muted backgrounds */

    /* MAPS4 Motion System Variables */
    --motion-duration-instant: 75ms;
    --motion-duration-fast: 120ms;
    --motion-duration-normal: 180ms;
    --motion-duration-slow: 240ms;
    --motion-duration-slower: 320ms;
    --motion-easing-linear: linear;
    --motion-easing-standard: cubic-bezier(0.2, 0, 0.2, 1);
    --motion-easing-emphasized: cubic-bezier(0.2, 0.8, 0.2, 1);
    --motion-easing-decelerate: cubic-bezier(0, 0, 0.2, 1);
    --motion-easing-accelerate: cubic-bezier(0.4, 0, 1, 1);

    /* MAPS4 Elevation & Glass Materials */
    --card: var(--stellar-surface);
    --popover: var(--cosmic-void);
    --cosmic-input: var(--stellar-surface);
    --cosmic-input-border: var(--cosmic-border);
    --cosmic-input-placeholder: var(--stellar-muted);

    /* MAPS4 Z-Index Management */
    --z-surface: 0;
    --z-overlay: 10;
    --z-modal: 20;
    --z-popover: 30;
    --z-toast: 40;
    --z-tooltip: 50;

    /* MAPS4 Additional Cosmic Variables */
    --nebula-accent: 19 36 61; /* #13243d - Nebula accent */
    --cosmic-ring-offset: 10 15 22; /* #0a0f16 - Cosmic ring offset */

      /* MAPS4 Component-Specific Variables - Required for 10/10 Button Component */
  --opacity-disabled: 0.5;
  --btn-scale-hover: 1.02;
  --btn-scale-active: 0.98;
  --btn-h-sm: 2rem;
  --btn-h-md: 2.5rem;
  --btn-h-lg: 3rem;
  --btn-h-touch: 2.75rem;
  --radius-md: 0.375rem;
  --space-0_5: 0.125rem;
  --space-1: 0.25rem;
  --space-1_5: 0.375rem;
  --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-7: 1.75rem;
    --space-2_5: 0.625rem;
    --font-size-xs: 0.875rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --motion-duration-2: 200ms;
    --ring-2: 0.5rem;
    --ring-offset-2: 0.125rem;
    --border-width-1: 1px;
    --border-width-2: 2px;
    --blur-md: 12px;
    --blur-lg: 16px;
    --saturate-135: 1.35;
    --saturate-150: 1.5;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-elevation-md: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-elevation-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1);
    --shadow-elevation-high: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --icon-sm: 1rem;
    --icon-md: 1.25rem;
    --icon-lg: 1.5rem;
    --size-full: 100%;
    --opacity-spinner-track: 0.25;
    --opacity-spinner-head: 0.75;
    --spinner-stroke-width: 4;
    --card-scale-active: 0.98;
    --badge-scale-hover: 1.05;
    --badge-scale-active: 0.95;
  }

  /**
   * MAPS4 Light Mode Override (when needed)
   * Maintains the same semantic structure with light adaptations
   */
  .light {
    --deep-space: 255 255 255;
    --cosmic-void: 250 250 250;
    --stellar-surface: 245 245 245;
    --cosmic-overlay: 255 255 255;

    --cosmic-light: 10 15 22;
    --stellar-muted: 102 102 102;
    --cosmic-subtle: 128 128 128;
    --cosmic-disabled: 163 163 163;

    /* MAPS4 Aurora Accent System - Light mode variants */
    --aurora-accent: 124 196 255; /* #7cc4ff - Aurora accent (consistent) */
    --cosmic-primary: 124 196 255; /* #7cc4ff - Cosmic primary */
    --cosmic-primary-hover: 104 176 199; /* #68b0c7 - Cosmic primary hover (darker) */
    --cosmic-dark: 255 255 255; /* #ffffff - White text on dark backgrounds */

    /* MAPS4 Cosmic Cyan System - Light mode variants */
    --cosmic-cyan: 120 255 214; /* #78ffd6 - Cosmic cyan (consistent) */
    --cosmic-secondary: 120 255 214; /* #78ffd6 - Cosmic secondary */
    --cosmic-secondary-hover: 100 235 194; /* #64ebc2 - Cosmic secondary hover (darker) */

    /* MAPS4 Enhanced Accent System - Light mode variants */
    --cosmic-accent-muted: 102 102 102; /* Muted accent text for light mode */
    --cosmic-accent-pressed: 84 156 179; /* #549cb3 - Cosmic accent pressed (darker) */
    --cosmic-accent-solid: 84 156 179; /* #549cb3 - Cosmic accent solid AAA */

    /* MAPS4 Semantic Feedback - Light mode */
    --cosmic-success: 64 214 163; /* #40d6a3 - Cosmic success */
    --cosmic-warning: 255 209 102; /* #ffd166 - Cosmic warning */
    --cosmic-danger: 255 107 107; /* #ff6b6b - Cosmic danger */
    --cosmic-info: 42 135 255; /* #2a87ff - Cosmic info */

    /* MAPS4 Destructive Actions - Light mode */
    --destructive: 255 107 107; /* #ff6b6b - Cosmic danger */
    --destructive-foreground: 255 255 255; /* #ffffff - White text */

    /* MAPS4 AAA-Only Solid Fills for Compliance Mode - Light mode */
    --cosmic-success-solid: 52 199 89; /* #34c759 - 7:1+ contrast */
    --cosmic-danger-solid: 204 47 38; /* #cc2f26 - 7:1+ compliance */

    /* MAPS4 Border & Stroke System - Light mode */
    --cosmic-border: 229 229 229;
    --cosmic-border-strong: 204 204 204;
    --cosmic-border-subtle: 156 163 175;

    /* MAPS4 Interactive States - Light mode */
    --ring: 124 196 255; /* #7cc4ff - Aurora accent focus rings */
    --cosmic-muted: 245 245 245;

    /* MAPS4 Elevation & Glass Materials - Light mode */
    --card: 255 255 255;
    --popover: 255 255 255;
    --cosmic-input: 255 255 255;
    --cosmic-input-border: 229 229 229;
    --cosmic-input-placeholder: 102 102 102;

    /* MAPS4 Additional Cosmic Variables - Light mode */
    --nebula-accent: 245 248 250; /* #f5f8fa - Light nebula accent */
    --cosmic-ring-offset: 255 255 255; /* #ffffff - White ring offset */

    /* MAPS4 Component-Specific Variables - Light Mode (Consistent with Dark) */
    --opacity-disabled: 0.5;
    --btn-scale-hover: 1.02;
    --btn-scale-active: 0.98;
    --btn-h-sm: 2rem;
    --btn-h-md: 2.5rem;
    --btn-h-lg: 3rem;
    --btn-h-touch: 2.75rem;
    --radius-md: 0.375rem;
    --space-0_5: 0.125rem;
    --space-1: 0.25rem;
    --space-1_5: 0.375rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-7: 1.75rem;
    --space-2_5: 0.625rem;
    --font-size-xs: 0.875rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --motion-duration-2: 200ms;
    --ring-2: 0.5rem;
    --ring-offset-2: 0.125rem;
    --border-width-1: 1px;
    --border-width-2: 2px;
    --blur-md: 12px;
    --blur-lg: 16px;
    --saturate-135: 1.35;
    --saturate-150: 1.5;
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-elevation-md: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-elevation-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1);
    --shadow-elevation-high: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --icon-sm: 1rem;
    --icon-md: 1.25rem;
    --icon-lg: 1.5rem;
    --size-full: 100%;
    --opacity-spinner-track: 0.25;
    --opacity-spinner-head: 0.75;
    --spinner-stroke-width: 4;
    --card-scale-active: 0.98;
    --badge-scale-hover: 1.05;
    --badge-scale-active: 0.95;
  }

  /**
   * MAPS4 High Contrast Mode - Maximum accessibility
   * Forces maximum contrast for users with visual impairments
   */
  .high-contrast {
    --deep-space: 0 0 0;
    --cosmic-void: 0 0 0;
    --stellar-surface: 0 0 0;
    --cosmic-overlay: 0 0 0;
    --cosmic-light: 255 255 255;
    --stellar-muted: 255 255 255;
    --cosmic-subtle: 255 255 255;
    --cosmic-disabled: 255 255 255;
    --aurora-accent: 0 255 255;
    --cosmic-primary: 0 255 255;
    --cosmic-primary-hover: 0 255 255;
    --cosmic-dark: 0 0 0;
    --cosmic-cyan: 0 255 255;
    --cosmic-secondary: 0 255 255;
    --cosmic-secondary-hover: 0 255 255;
    --cosmic-border: 255 255 255;
    --cosmic-border-strong: 255 255 255;
    --cosmic-border-subtle: 255 255 255;
    --ring: 0 255 255;
    --cosmic-muted: 0 0 0;
  }
}

/* ===== APPLE-GRADE TYPOGRAPHY FOUNDATION ===== */

@layer base {
  /**
   * Apple Typography Semantic Hierarchy
   * Based on SF Pro Text metrics adapted for web
   */
  html {
    /* Apple-grade text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-feature-settings:
      'kern' 1,
      'liga' 1,
      'calt' 1;
  }

  body {
    /* MAPS v2.2 Base Styles - CSS custom properties only */
    background-color: rgb(var(--background));
    color: rgb(var(--foreground));
    font-family:
      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',
      Arial, sans-serif;
    font-size: 1rem;
    line-height: 1.5;
    letter-spacing: -0.003em;
    transition:
      background-color 0.2s ease,
      color 0.2s ease;
  }

  /* Semantic HTML Elements with Apple HIG typography */
  h1 {
    color: rgb(var(--foreground));
    font-size: 2.25rem;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.025em;
  }
  h2 {
    color: rgb(var(--foreground));
    font-size: 1.875rem;
    font-weight: 600;
    line-height: 1.3;
    letter-spacing: -0.025em;
  }
  h3 {
    color: rgb(var(--foreground));
    font-size: 1.5rem;
    font-weight: 600;
    line-height: 1.3;
  }
  h4 {
    color: rgb(var(--foreground));
    font-size: 1.25rem;
    font-weight: 600;
    line-height: 1.4;
  }
  h5 {
    color: rgb(var(--foreground));
    font-size: 1.125rem;
    font-weight: 500;
    line-height: 1.4;
  }
  h6 {
    color: rgb(var(--foreground));
    font-size: 1rem;
    font-weight: 500;
    line-height: 1.4;
  }

  p {
    color: rgb(var(--foreground));
    font-size: 1rem;
    line-height: 1.625;
  }
  small {
    color: rgb(var(--foreground-muted));
    font-size: 0.875rem;
  }
  strong,
  b {
    color: rgb(var(--foreground));
    font-weight: 600;
  }
  em,
  i {
    color: rgb(var(--foreground));
    font-style: italic;
  }

  /* Apple-style link treatment */
  a {
    color: rgb(var(--primary));
    font-weight: 500;
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
    transition: color 0.2s ease;
  }

  a:hover {
    color: rgb(var(--primary-hover));
  }

  a:focus-visible {
    outline: 2px solid rgb(var(--ring));
    outline-offset: 2px;
  }

  /* Code and technical content */
  code {
    background-color: rgb(var(--muted));
    border-radius: 0.25rem;
    padding: 0.125rem 0.375rem;
    font-family:
      'SF Mono', Monaco, Inconsolata, 'Roboto Mono', 'Consolas', monospace;
    font-size: 0.875rem;
  }

  pre {
    overflow-x: auto;
    border-radius: 0.5rem;
    background-color: rgb(var(--background-panel));
    padding: 1rem;
    font-family:
      'SF Mono', Monaco, Inconsolata, 'Roboto Mono', 'Consolas', monospace;
    font-size: 0.875rem;
  }

  /* Form elements with Apple-grade styling */
  input,
  textarea,
  select {
    background-color: rgb(var(--input));
    border-radius: 0.375rem;
    border: 1px solid rgb(var(--border));
    padding: 0.5rem 0.75rem;
    color: rgb(var(--foreground));
    transition: all 200ms;
  }

  input::placeholder,
  textarea::placeholder,
  select::placeholder {
    color: rgb(var(--foreground-subtle));
  }

  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: none;
    border-color: rgb(var(--border-accent));
    box-shadow: 0 0 0 2px rgb(var(--ring));
  }
}

/* ===== LIQUID GLASS MATERIALS SYSTEM ===== */

@layer components {
  /**
   * Liquid Glass Utilities - Apple Materials for Web
   * CRITICAL: Only applies to surfaces, never to content
   */
  .glass-standard {
    backdrop-filter: blur(12px) saturate(135%);
    background-color: rgb(var(--background-panel) / 0.8);
    border: 1px solid rgb(var(--border) / 0.3);
  }

  .glass-elevated {
    backdrop-filter: blur(8px) saturate(135%);
    background-color: rgb(var(--background-elevated) / 0.85);
    border: 1px solid rgb(var(--border) / 0.2);
  }

  .glass-floating {
    backdrop-filter: blur(16px) saturate(135%);
    background-color: rgb(var(--background-panel) / 0.75);
    border: 1px solid rgb(var(--border) / 0.4);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  /* AAA Text Scrim for accessibility over glass */
  .text-scrim {
    background-color: rgb(var(--background) / 0.85);
    color: rgb(var(--foreground));
    padding: 0.25rem;
    border-radius: 0.125rem;
  }

  /* Content protection gradient */
  .content-scrim {
    background: linear-gradient(
      to bottom,
      rgb(var(--background) / 0.9),
      rgb(var(--background) / 0.95)
    );
  }
}

/* ===== ACCESSIBILITY & MOTION SYSTEM ===== */

@layer utilities {
  /**
   * Apple-Grade Motion System
   * Respects user motion preferences
   */
  .motion-safe-standard {
    transition: all 180ms cubic-bezier(0.2, 0, 0.2, 1);
  }

  .motion-safe-emphasized {
    transition: all 240ms cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  .motion-safe-decelerate {
    transition: all 200ms cubic-bezier(0, 0, 0.2, 1);
  }

  /**
   * Focus Management - Apple accessibility standards
   */
  .focus-apple:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px rgb(var(--background)),
      0 0 0 4px rgb(var(--ring));
  }

  /**
   * Platform-Aware Hit Targets
   */
  .hit-target-base {
    min-height: 44px;
    min-width: 44px;
  }

  .hit-target-large {
    min-height: 48px;
    min-width: 48px;
  }

  .hit-target-compact {
    min-height: 36px;
    min-width: 36px;
  }

  @media (hover: hover) and (pointer: fine) {
    .hit-target-base {
      min-height: 32px;
      min-width: 32px;
    }
  }

  /**
   * Screen Reader Utilities
   */
  .sr-only-focusable {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .sr-only-focusable:focus {
    position: absolute;
    left: 0;
    top: 0;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* ===== ENTERPRISE ACCESSIBILITY ENHANCEMENTS ===== */

/**
 * Windows High Contrast Mode Support
 * Critical for enterprise accessibility compliance
 */
@media (forced-colors: active) {
  [data-radix-dialog-overlay] {
    forced-color-adjust: none;
    background: Canvas;
  }

  [data-radix-dialog-content] {
    forced-color-adjust: none;
    background: CanvasText;
    color: Canvas;
    border: 1px solid Canvas;
  }
}

/**
 * Reduced Transparency Preference Support
 * Respects system accessibility preferences
 */
@media (prefers-reduced-transparency: reduce) {
  .backdrop-blur-sm,
  .backdrop-blur-md,
  .backdrop-blur-lg,
  .backdrop-blur-xl {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }

  [data-radix-dialog-content] {
    background: rgb(var(--background-elevated)) !important;
  }
}

/**
 * Motion Reduction Compliance
 * Essential for vestibular disorder accessibility
 */
@media (prefers-reduced-motion: reduce) {
  [data-radix-dialog-overlay] {
    animation: none !important;
    transition: opacity 0.15s ease !important;
  }

  [data-radix-dialog-content] {
    animation: none !important;
    transition: opacity 0.15s ease !important;
    transform: translate(-50%, -50%) !important;
  }
}

/* ===== PRINT STYLES ===== */

@media print {
  /**
   * Print-optimized styles
   * High contrast, remove backgrounds, optimize typography
   */
  * {
    color: #000 !important;
    background: transparent !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.4;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-after: avoid;
    font-weight: bold;
  }

  p,
  blockquote {
    orphans: 3;
    widows: 3;
  }

  blockquote,
  pre {
    page-break-inside: avoid;
  }

  a {
    text-decoration: underline;
  }

  a[href^='http']:after {
    content: ' (' attr(href) ')';
    font-size: 0.8em;
  }
}

/* ===== REDUCED MOTION COMPLIANCE ===== */

@media (prefers-reduced-motion: reduce) {
  /**
   * Respect user motion preferences
   * Disable all animations and transitions
   */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ===== HIGH CONTRAST MODE SUPPORT ===== */

@media (prefers-contrast: high) {
  /**
   * Enhanced contrast for better accessibility
   */
  :root {
    --border: 255 255 255;
    --border-strong: 255 255 255;
    --foreground: 255 255 255;
    --background: 0 0 0;
  }
}

/* ===== ENHANCED INPUT ACCESSIBILITY SHIMS ===== */

/* Forced Colors (Windows High Contrast) Support */
@media (forced-colors: active) {
  input,
  [role='textbox'] {
    forced-color-adjust: none;
    background: Field;
    color: FieldText;
    border: 1px solid FieldText;
  }

  input:focus-visible {
    outline: 2px solid Highlight;
    outline-offset: 2px;
  }
}

/* Autofill AAA Compliance - iOS/Chrome */
:root {
  --autofill-bg: 20 25 35;
  --autofill-fg: 248 250 252;
  --autofill-ring: 30 81 192;
  --autofill-offset: 13 17 23;
}

input:-webkit-autofill,
input:-webkit-autofill:focus {
  -webkit-text-fill-color: rgb(var(--autofill-fg));
  box-shadow: 0 0 0px 1000px rgb(var(--autofill-bg)) inset !important;
  border: 1px solid rgb(var(--autofill-bg)) !important;
  transition: background-color 9999s ease-in-out 0s; /* Prevent autofill flash */
}
